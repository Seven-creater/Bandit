# LLM å·¥å…·ä½¿ç”¨æ™ºèƒ½å†³ç­–èƒ½åŠ›è¯„æµ‹åŸºå‡†

[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## ğŸ“– é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ—¨åœ¨ç³»ç»Ÿè¯„æµ‹ **LLM Agent æ˜¯å¦çœŸæ­£å…·å¤‡åˆ¤æ–­"ä½•æ—¶åº”è¯¥ä½¿ç”¨å·¥å…·ã€ä½•æ—¶åº”è¯¥è‡ªä¸»è¾“å‡º"çš„æ™ºèƒ½å†³ç­–èƒ½åŠ›**ã€‚

### æ ¸å¿ƒç ”ç©¶é—®é¢˜

å½“å‰ LLM Agent è¢«èµ‹äºˆäº†ä»£ç è§£é‡Šå™¨ç­‰å·¥å…·èƒ½åŠ›ï¼Œä½†å­˜åœ¨ä¸¤ä¸ªå…³é”®é—®é¢˜ï¼š

1. **æ¨¡å‹å›ºæœ‰èƒ½åŠ›ä¸è¶³**ï¼š
   - æ— æ³•æœ‰æ•ˆæ‰§è¡Œæœ€ä¼˜ç­–ç•¥ï¼ˆå¦‚ Bandit ä¸­çš„ UCB ç®—æ³•ï¼‰
   - ç¼ºä¹ç»´æŠ¤ä¿¡å¿µçŠ¶æ€ã€éšæœºé‡‡æ ·ç­‰èƒ½åŠ›
   - ç»“æ„åŒ–è¾“å‡ºé—®é¢˜ï¼ˆå¦‚ç»„åˆæ•°è®¡ç®—ï¼‰è¡¨ç°ä¸ä½³

2. **å·¥å…·ä½¿ç”¨å†³ç­–èƒ½åŠ›æ¬ ç¼º**ï¼š
   - æ— æ³•è‡ªä¸»åˆ¤æ–­ä½•æ—¶åº”è¯¥ä½¿ç”¨å·¥å…·
   - å¿½ç•¥ Token æ¶ˆè€—çš„æˆæœ¬è€ƒé‡
   - ç¼ºä¹ä»æ•ˆæœå’Œæˆæœ¬åŒé‡è§†è§’çš„æ™ºèƒ½å†³ç­–

### ç ”ç©¶åˆ›æ–°ç‚¹

- âœ… **ç³»ç»ŸåŒ–è¯„æµ‹åŸºå‡†**ï¼šæ„å»ºæ¶µç›– 5 ç±»é—®é¢˜çš„å®Œæ•´ Benchmarkï¼Œè¦†ç›–å•è½®/å¤šè½®äº¤äº’åœºæ™¯
- âœ… **åŒé‡è¯„æµ‹ç»´åº¦**ï¼šä»ä»»åŠ¡æ•ˆæœï¼ˆRewardï¼‰å’Œ Token æ¶ˆè€—ä¸¤ä¸ªè§’åº¦è¯„æµ‹
- âœ… **å¤§è§„æ¨¡æ¨¡å‹å¯¹æ¯”**ï¼šæ”¯æŒå¯¹ 7+ ä¸ªå¼€æº/é—­æºæ¨¡å‹è¿›è¡Œç³»ç»Ÿè¯„æµ‹
- âœ… **è‡ªåŠ¨åŒ–å®éªŒæ¡†æ¶**ï¼š350 å¹¶å‘ï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œå®æ—¶ä¿å­˜ç»“æœ

---

## ğŸ¯ è¯„æµ‹ä»»åŠ¡

æœ¬é¡¹ç›®è®¾è®¡äº† **5 ç±» Bandit é—®é¢˜** ä½œä¸ºè¯„æµ‹åŸºå‡†ï¼š

| ä»»åŠ¡ç±»å‹ | éš¾åº¦ | ç‰¹ç‚¹ | è¯„æµ‹ç›®æ ‡ |
|---------|------|------|---------|
| **1. åŸºç¡€ Bandit** | â­ | å›ºå®šæœŸæœ›å€¼ | åŸºç¡€å·¥å…·ä½¿ç”¨èƒ½åŠ› |
| **2. éå¹³ç¨³ Bandit** | â­â­â­ | æœŸæœ›å€¼éšæ—¶é—´æ¼‚ç§» | åŠ¨æ€ç¯å¢ƒé€‚åº”èƒ½åŠ› |
| **3. ä¸Šä¸‹æ–‡ Bandit** | â­â­â­â­ | ä¾èµ–ä¸Šä¸‹æ–‡ä¿¡æ¯ | å¤æ‚ä¿¡æ¯å¤„ç†èƒ½åŠ› |
| **4. å¯¹æŠ—æ€§ Bandit** | â­â­â­â­â­ | ç¯å¢ƒè®¾ç½®é™·é˜± | é²æ£’æ€§å’ŒæŠ—å¹²æ‰°èƒ½åŠ› |
| **5. ä¼‘çœ  Bandit** | â­â­â­ | è‡‚éšæœºä¸å¯ç”¨ | çº¦æŸæ¡ä»¶ä¸‹å†³ç­–èƒ½åŠ› |

æ¯ç±»ä»»åŠ¡åŒ…å«ï¼š
- **10 ç»„å‚æ•°é…ç½®**ï¼ˆè‡‚æ•°é‡ã€æœŸæœ›å€¼èŒƒå›´ã€å™ªå£°ç­‰éšæœºç”Ÿæˆï¼‰
- **5 æ¬¡é‡å¤å®éªŒ**ï¼ˆç¡®ä¿ç»Ÿè®¡æ˜¾è‘—æ€§ï¼‰
- **120 è½®äº¤äº’**ï¼ˆå……åˆ†è¯„æµ‹é•¿æœŸè¡¨ç°ï¼‰

---

## ğŸ”¬ å®éªŒè®¾è®¡

### å¯¹æ¯”ç­–ç•¥

- **ç­–ç•¥ Aï¼ˆNo Codeï¼‰**ï¼šLLM çº¯æ–‡æœ¬æ¨ç†å†³ç­–ï¼Œä¸ä½¿ç”¨ä»»ä½•å·¥å…·
- **ç­–ç•¥ Bï¼ˆWith Interpreterï¼‰**ï¼šLLM ç”Ÿæˆä»£ç ï¼Œé€šè¿‡è§£é‡Šå™¨æ‰§è¡Œ UCB ç®—æ³•

### è¯„æµ‹æŒ‡æ ‡

1. **ç´¯ç§¯å¥–åŠ±ï¼ˆCumulative Rewardï¼‰**ï¼šè¡¡é‡å†³ç­–æ•ˆæœ
2. **ç´¯ç§¯é—æ†¾ï¼ˆCumulative Regretï¼‰**ï¼šä¸æœ€ä¼˜ç­–ç•¥çš„å·®è·
3. **æå‡ç™¾åˆ†æ¯”ï¼ˆImprovementï¼‰**ï¼šç­–ç•¥ B ç›¸å¯¹ç­–ç•¥ A çš„æå‡
4. **Token æ¶ˆè€—**ï¼šæˆæœ¬æ•ˆç›Šåˆ†æï¼ˆå¾…å®ç°ï¼‰

### å·²è¯„æµ‹æ¨¡å‹

- DeepSeek-V3.2
- Doubao-Seed-2.0 ç³»åˆ—ï¼ˆCode/Pro/Lite/Miniï¼‰
- GLM-4.7
- Kimi-K2

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
Bandit/
â”œâ”€â”€ config.yaml                      # é…ç½®æ–‡ä»¶ï¼ˆAPIå¯†é’¥ã€æ¨¡å‹åˆ—è¡¨ã€å®éªŒå‚æ•°ï¼‰
â”œâ”€â”€ run_fixed.py                     # ä¸»å®éªŒè„šæœ¬ï¼ˆ350å¹¶å‘ï¼Œæ–­ç‚¹ç»­ä¼ ï¼‰
â”‚
â”œâ”€â”€ strategy_a_no_code/              # ç­–ç•¥Aï¼šçº¯LLMæ¨ç†
â”‚   â””â”€â”€ policy.py
â”‚
â”œâ”€â”€ strategy_b_with_interpreter/     # ç­–ç•¥Bï¼šä»£ç è§£é‡Šå™¨è¾…åŠ©
â”‚   â””â”€â”€ policy.py
â”‚
â”œâ”€â”€ utils/                           # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ api_client.py               # ç»Ÿä¸€APIå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ bandit_env.py               # Banditç¯å¢ƒå®ç°
â”‚   â”œâ”€â”€ param_generator.py          # å‚æ•°ç”Ÿæˆå™¨
â”‚   â””â”€â”€ shared.py                   # å…±äº«å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ experiments/                     # å®éªŒç¯å¢ƒå®šä¹‰
â”‚   â”œâ”€â”€ 1_basic_bandit/
â”‚   â”œâ”€â”€ 2_restless_bandit/
â”‚   â”œâ”€â”€ 3_contextual_bandit/
â”‚   â”œâ”€â”€ 4_adversarial_bandit/
â”‚   â””â”€â”€ 5_sleeping_bandit/
â”‚
â”œâ”€â”€ results/                         # å®éªŒç»“æœï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ DeepSeek-V3.2/
â”‚   â”‚   â”œâ”€â”€ 1_basic_bandit.jsonl
â”‚   â”‚   â”œâ”€â”€ 2_restless_bandit.jsonl
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ Doubao-Seed-2.0-Code/
â”‚   â”œâ”€â”€ ...
â”‚   â”œâ”€â”€ progress.json               # è¿›åº¦è¿½è¸ª
â”‚   â””â”€â”€ README.md                   # ç»“æœæ•°æ®è¯´æ˜
â”‚
â””â”€â”€ quick start/                     # å¿«é€Ÿå¼€å§‹è„šæœ¬
    â”œâ”€â”€ quick_start.sh
    â”œâ”€â”€ run_experiment.py
    â””â”€â”€ generate_plots.py
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒé…ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/Seven-creater/Bandit.git
cd Bandit

# å®‰è£…ä¾èµ–
pip install openai numpy pyyaml
```

### 2. é…ç½® API

ç¼–è¾‘ `config.yaml`ï¼Œå¡«å…¥ä½ çš„ API å¯†é’¥å’Œæ¨¡å‹ Endpointï¼š

```yaml
volcengine:
  base_url: "https://ark.cn-beijing.volces.com/api/v3"
  api_key: "your-api-key-here"

models:
  - name: "DeepSeek-V3.2"
    model_id: "ep-xxxxx"
    enabled: true
  # æ·»åŠ æ›´å¤šæ¨¡å‹...
```

### 3. è¿è¡Œå®éªŒ

```bash
# å®Œæ•´å®éªŒï¼ˆ7æ¨¡å‹ Ã— 5ä»»åŠ¡ Ã— 10ç»„ Ã— 5æ¬¡ = 1750ç»„å®éªŒï¼‰
python run_fixed.py

# å®éªŒä¼šè‡ªåŠ¨ï¼š
# 1. å¿«é€ŸéªŒè¯ï¼ˆ1%æ•°æ®ï¼Œ1-2åˆ†é’Ÿï¼‰
# 2. å…¨é‡è¿è¡Œï¼ˆ350å¹¶å‘ï¼Œ30-60åˆ†é’Ÿï¼‰
# 3. å®æ—¶ä¿å­˜ç»“æœåˆ° results/ ç›®å½•
# 4. æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼ˆä¸­æ–­åé‡æ–°è¿è¡Œä¼šè·³è¿‡å·²å®Œæˆä»»åŠ¡ï¼‰
```

### 4. æŸ¥çœ‹ç»“æœ

```bash
# ç»“æœä¿å­˜åœ¨ results/ ç›®å½•
# æ¯ä¸ªæ¨¡å‹ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªä»»åŠ¡ä¸€ä¸ª JSONL æ–‡ä»¶

# æŸ¥çœ‹è¿›åº¦
cat results/progress.json

# æŸ¥çœ‹æŸä¸ªæ¨¡å‹çš„ç»“æœ
cat results/DeepSeek-V3.2/1_basic_bandit.jsonl

# ç”Ÿæˆæ±‡æ€»æŠ¥å‘Š
cat results/final_summary.md
```

---

## ğŸ“Š å®éªŒç»“æœç¤ºä¾‹

### æ•´ä½“è¡¨ç°ï¼ˆ7 æ¨¡å‹å¹³å‡ï¼‰

| ä»»åŠ¡ç±»å‹ | ç­–ç•¥Aå¹³å‡å¥–åŠ± | ç­–ç•¥Bå¹³å‡å¥–åŠ± | æå‡ç™¾åˆ†æ¯” |
|---------|-------------|-------------|----------|
| åŸºç¡€ Bandit | 357.6 | 673.9 | **+88.5%** |
| éå¹³ç¨³ Bandit | 705.0 | 971.5 | **+37.8%** |
| ä¸Šä¸‹æ–‡ Bandit | 591.5 | 609.4 | **+3.0%** |
| å¯¹æŠ—æ€§ Bandit | 681.2 | 939.0 | **+37.9%** |
| ä¼‘çœ  Bandit | 893.3 | 886.6 | **-0.8%** |
| **å¹³å‡** | **645.7** | **816.1** | **+26.4%** |

### æ ¸å¿ƒå‘ç°

1. âœ… **ä»£ç å·¥å…·æ˜¾è‘—æå‡æ•ˆæœ**ï¼šåœ¨ 4/5 ç±»ä»»åŠ¡ä¸­ï¼Œç­–ç•¥ B å¹³å‡æå‡ 26.4%
2. âœ… **ç®€å•ä»»åŠ¡ä¼˜åŠ¿æœ€å¤§**ï¼šåŸºç¡€ Bandit æå‡é«˜è¾¾ 88.5%
3. âš ï¸ **å¤æ‚åœºæ™¯æŒ‘æˆ˜**ï¼šä¸Šä¸‹æ–‡ä¾èµ–åœºæ™¯æå‡è¾ƒå°ï¼ˆ3.0%ï¼‰
4. âš ï¸ **ç‰¹æ®Šåœºæ™¯å±€é™**ï¼šä¼‘çœ  Bandit ä¸¤è€…æŒå¹³ï¼Œè¯´æ˜éšæœºæ€§é™ä½äº†ç®—æ³•ä¼˜åŠ¿

---

## ğŸ”§ è‡ªå®šä¹‰å®éªŒ

### ä¿®æ”¹å®éªŒå‚æ•°

ç¼–è¾‘ `config.yaml`ï¼š

```yaml
experiment:
  n_param_groups: 10      # æ¯ç±»ä»»åŠ¡çš„å‚æ•°ç»„æ•°
  n_repeats: 5            # æ¯ç»„å‚æ•°é‡å¤æ¬¡æ•°
  n_rounds: 120           # æ¯æ¬¡å®éªŒçš„è½®æ•°
  
  bandit_params:
    n_arms_range: [3, 10]       # è‡‚æ•°é‡èŒƒå›´
    mean_low_range: [2.0, 5.0]  # æœŸæœ›å€¼ä¸‹ç•Œ
    mean_high_range: [7.0, 9.0] # æœŸæœ›å€¼ä¸Šç•Œ
    sigma_range: [0.5, 2.0]     # å™ªå£°æ ‡å‡†å·®
```

### æ·»åŠ æ–°æ¨¡å‹

åœ¨ `config.yaml` ä¸­æ·»åŠ ï¼š

```yaml
models:
  - name: "YourModel"
    model_id: "ep-xxxxx"
    enabled: true
```

### æ·»åŠ æ–°ä»»åŠ¡

1. åœ¨ `experiments/` åˆ›å»ºæ–°ä»»åŠ¡ç›®å½•
2. åœ¨ `param_generator.py` æ·»åŠ å‚æ•°ç”Ÿæˆé€»è¾‘
3. åœ¨ `run_fixed.py` çš„ä»»åŠ¡åˆ—è¡¨ä¸­æ·»åŠ 

---

## ğŸ“ˆ æ•°æ®æ ¼å¼

### JSONL ç»“æœæ–‡ä»¶

æ¯è¡Œæ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼š

```json
{
  "model": "DeepSeek-V3.2",
  "task": "1_basic_bandit",
  "group": 0,
  "repeat": 0,
  "params": {
    "n_arms": 3,
    "mean_low": 3.32,
    "mean_high": 8.72,
    "sigma": 1.55
  },
  "a_reward": 362.92,
  "b_reward": 828.27,
  "improvement": 128.2,
  "timestamp": "2026-02-28T10:30:45"
}
```

è¯¦ç»†æ•°æ®æ ¼å¼è¯´æ˜è§ [`results/README.md`](results/README.md)

---

## ğŸ› ï¸ æŠ€æœ¯ç‰¹æ€§

- **é«˜å¹¶å‘æ‰§è¡Œ**ï¼š350 çº¿ç¨‹å¹¶å‘ï¼Œå¤§å¹…ç¼©çŸ­å®éªŒæ—¶é—´
- **æ–­ç‚¹ç»­ä¼ **ï¼šè‡ªåŠ¨è·Ÿè¸ªè¿›åº¦ï¼Œä¸­æ–­åå¯ç»§ç»­è¿è¡Œ
- **å®æ—¶ä¿å­˜**ï¼šæ¯å®Œæˆä¸€ç»„å®éªŒç«‹å³å†™å…¥ JSONLï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±
- **çº¿ç¨‹å®‰å…¨**ï¼šä½¿ç”¨é”æœºåˆ¶ç¡®ä¿å¹¶å‘å†™å…¥çš„æ•°æ®ä¸€è‡´æ€§
- **é”™è¯¯é‡è¯•**ï¼šAPI è°ƒç”¨å¤±è´¥è‡ªåŠ¨é‡è¯• 3 æ¬¡
- **çµæ´»é…ç½®**ï¼šé€šè¿‡ YAML é…ç½®æ–‡ä»¶ç®¡ç†æ‰€æœ‰å‚æ•°

---

## ğŸ“ å¼•ç”¨

å¦‚æœæœ¬é¡¹ç›®å¯¹ä½ çš„ç ”ç©¶æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å¼•ç”¨ï¼š

```bibtex
@misc{bandit-llm-tool-benchmark,
  author = {Your Name},
  title = {LLM Tool Usage Intelligence Benchmark: A Systematic Evaluation Framework},
  year = {2026},
  publisher = {GitHub},
  url = {https://github.com/Seven-creater/Bandit}
}
```

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¾…å®ŒæˆåŠŸèƒ½

- [ ] Token æ¶ˆè€—ç»Ÿè®¡
- [ ] å¯è§†åŒ–åˆ†æå·¥å…·
- [ ] æ›´å¤š Bandit å˜ä½“ï¼ˆå¦‚ Combinatorial Banditï¼‰
- [ ] æ”¯æŒæ›´å¤š LLM APIï¼ˆOpenAIã€Anthropic ç­‰ï¼‰
- [ ] è‡ªåŠ¨ç”Ÿæˆå®éªŒæŠ¥å‘Šï¼ˆPDF/HTMLï¼‰

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## ğŸ“§ è”ç³»æ–¹å¼

- GitHub: [@Seven-creater](https://github.com/Seven-creater)
- Email: your-email@example.com

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹èµ„æºå’Œå·¥å…·ï¼š

- [OpenAI API](https://platform.openai.com/) - ç»Ÿä¸€çš„ LLM API æ¥å£
- [ç«å±±äº‘](https://www.volcengine.com/) - æ¨¡å‹æ¨ç†æœåŠ¡
- [vLLM](https://github.com/vllm-project/vllm) - é«˜æ€§èƒ½ LLM æ¨ç†å¼•æ“
- Multi-Armed Bandit ç›¸å…³ç ”ç©¶æ–‡çŒ®

---

**â­ å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œè¯·ç»™ä¸ª Starï¼**

